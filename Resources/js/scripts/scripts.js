!function(t,a,e,f){"use strict";var r=["","webkit","moz","MS","ms","o"],n=a.createElement("div"),i="function",s=Math.round,v=Math.abs,m=Date.now;function h(t,e,n){return setTimeout(d(t,n),e)}function o(t,e,n){return!!Array.isArray(t)&&(u(t,n[e],n),!0)}function u(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==f)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function c(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&t[i[o]]===f)&&(t[i[o]]=e[i[o]]),o++;return t}function l(t,e){return c(t,e,!0)}function p(t,e,n){var i,o=e.prototype;(i=t.prototype=Object.create(o)).constructor=t,i._super=o,n&&c(i,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function g(t,e){return typeof t==i?t.apply(e&&e[0]||f,e):t}function y(t,e){return t===f?e:t}function b(e,t,n){u(S(t),function(t){e.addEventListener(t,n,!1)})}function w(e,t,n){u(S(t),function(t){e.removeEventListener(t,n,!1)})}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function x(t,e){return-1<t.indexOf(e)}function S(t){return t.trim().split(/\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function M(t){return Array.prototype.slice.call(t,0)}function C(t,n,e){for(var i=[],o=[],s=0;s<t.length;){var r=n?t[s][n]:t[s];T(o,r)<0&&i.push(t[s]),o[s]=r,s++}return e&&(i=n?i.sort(function(t,e){return t[n]>e[n]}):i.sort()),i}function z(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),s=0;s<r.length;){if((i=(n=r[s])?n+o:e)in t)return i;s++}return f}var P=1;function A(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}var Z="ontouchstart"in t,I=z(t,"PointerEvent")!==f,N=Z&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),D="touch",B="mouse",O=25,$=1,R=4,L=8,q=1,_=2,k=4,V=8,W=16,X=_|k,Y=V|W,F=X|Y,H=["x","y"],G=["clientX","clientY"];function U(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){g(e.options.enable,[e])&&n.handler(t)},this.init()}function j(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,s=e&$&&i-o==0,r=e&(R|L)&&i-o==0;n.isFirst=!!s,n.isFinal=!!r,s&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=K(e));1<o&&!n.firstMultiple?n.firstMultiple=K(e):1===o&&(n.firstMultiple=!1);var s=n.firstInput,r=n.firstMultiple,a=r?r.center:s.center,h=e.center=J(i);e.timeStamp=m(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=et(a,h),e.distance=tt(a,h),function(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},s=t.prevInput||{};e.eventType!==$&&s.eventType!==R||(o=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}(n,e),e.offsetDirection=Q(e.deltaX,e.deltaY),e.scale=r?(l=r.pointers,p=i,tt(p[0],p[1],G)/tt(l[0],l[1],G)):1,e.rotation=r?(u=r.pointers,c=i,et(c[1],c[0],G)-et(u[1],u[0],G)):0,function(t,e){var n,i,o,s,r=t.lastInterval||e,a=e.timeStamp-r.timeStamp;if(e.eventType!=L&&(O<a||r.velocity===f)){var h=r.deltaX-e.deltaX,u=r.deltaY-e.deltaY,c={x:h/(l=a)||0,y:u/l||0};i=c.x,o=c.y,n=v(c.x)>v(c.y)?c.x:c.y,s=Q(h,u),t.lastInterval=e}else n=r.velocity,i=r.velocityX,o=r.velocityY,s=r.direction;var l;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=s}(n,e);var u,c;var l,p;var d=t.element;E(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function K(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:s(t.pointers[n].clientX),clientY:s(t.pointers[n].clientY)},n++;return{timeStamp:m(),pointers:e,center:J(e),deltaX:t.deltaX,deltaY:t.deltaY}}function J(t){var e=t.length;if(1===e)return{x:s(t[0].clientX),y:s(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:s(n/e),y:s(i/e)}}function Q(t,e){return t===e?q:v(t)>=v(e)?0<t?_:k:0<e?V:W}function tt(t,e,n){n||(n=H);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function et(t,e,n){n||(n=H);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(A(this.element),this.evWin,this.domHandler)}};var nt={mousedown:$,mousemove:2,mouseup:R},it="mousedown",ot="mousemove mouseup";function st(){this.evEl=it,this.evWin=ot,this.allow=!0,this.pressed=!1,U.apply(this,arguments)}p(st,U,{handler:function(t){var e=nt[t.type];e&$&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=R),this.pressed&&this.allow&&(e&R&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:B,srcEvent:t}))}});var rt={pointerdown:$,pointermove:2,pointerup:R,pointercancel:L,pointerout:L},at={2:D,3:"pen",4:B,5:"kinect"},ht="pointerdown",ut="pointermove pointerup pointercancel";function ct(){this.evEl=ht,this.evWin=ut,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}t.MSPointerEvent&&(ht="MSPointerDown",ut="MSPointerMove MSPointerUp MSPointerCancel"),p(ct,U,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=rt[i],s=at[t.pointerType]||t.pointerType,r=s==D,a=T(e,t.pointerId,"pointerId");o&$&&(0===t.button||r)?a<0&&(e.push(t),a=e.length-1):o&(R|L)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&&e.splice(a,1))}});var lt={touchstart:$,touchmove:2,touchend:R,touchcancel:L};function pt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}p(pt,U,{handler:function(t){var e=lt[t.type];if(e===$&&(this.started=!0),this.started){var n=function(t,e){var n=M(t.touches),i=M(t.changedTouches);e&(R|L)&&(n=C(n.concat(i),"identifier",!0));return[n,i]}.call(this,t,e);e&(R|L)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:D,srcEvent:t})}}});var dt={touchstart:$,touchmove:2,touchend:R,touchcancel:L},ft="touchstart touchmove touchend touchcancel";function vt(){this.evTarget=ft,this.targetIds={},U.apply(this,arguments)}function mt(){U.apply(this,arguments);var t=d(this.handler,this);this.touch=new vt(this.manager,t),this.mouse=new st(this.manager,t)}p(vt,U,{handler:function(t){var e=dt[t.type],n=function(t,e){var n=M(t.touches),i=this.targetIds;if(e&(2|$)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,s,r=M(t.changedTouches),a=[],h=this.target;if(s=n.filter(function(t){return E(t.target,h)}),e===$)for(o=0;o<s.length;)i[s[o].identifier]=!0,o++;o=0;for(;o<r.length;)i[r[o].identifier]&&a.push(r[o]),e&(R|L)&&delete i[r[o].identifier],o++;return a.length?[C(s.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:D,srcEvent:t})}}),p(mt,U,{handler:function(t,e,n){var i=n.pointerType==D,o=n.pointerType==B;if(i)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(R|L)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var gt=z(n.style,"touchAction"),yt=gt!==f,bt="compute",wt="manipulation",Et="none",xt="pan-x",St="pan-y";function Tt(t,e){this.manager=t,this.set(e)}Tt.prototype={set:function(t){t==bt&&(t=this.compute()),yt&&(this.manager.element.style[gt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return u(this.manager.recognizers,function(t){g(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(x(t,Et))return Et;var e=x(t,xt),n=x(t,St);if(e&&n)return xt+" "+St;if(e||n)return e?xt:St;if(x(t,wt))return wt;return"auto"}(e.join(" "))},preventDefaults:function(t){if(!yt){var e=t.srcEvent,n=t.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,o=x(i,Et),s=x(i,St),r=x(i,xt);return o||s&&n&X||r&&n&Y?this.preventSrc(e):void 0}e.preventDefault()}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Mt=1,Ct=2,zt=4,Pt=8,At=Pt,Zt=16;function It(t){this.id=P++,this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=y(this.options.enable,!0),this.state=Mt,this.simultaneous={},this.requireFail=[]}function Nt(t){return t==W?"down":t==V?"up":t==_?"left":t==k?"right":""}function Dt(t,e){var n=e.manager;return n?n.get(t):t}function Bt(){It.apply(this,arguments)}function Ot(){Bt.apply(this,arguments),this.pX=null,this.pY=null}function $t(){Bt.apply(this,arguments)}function Rt(){It.apply(this,arguments),this._timer=null,this._input=null}function Lt(){Bt.apply(this,arguments)}function qt(){Bt.apply(this,arguments)}function _t(){It.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function kt(t,e){return(e=e||{}).recognizers=y(e.recognizers,kt.defaults.preset),new Vt(t,e)}It.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Dt(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)||(t=Dt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return-1===T(e,t=Dt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=Dt(t,this);var e=T(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var n=this,i=this.state;function t(t){n.manager.emit(n.options.event+(t?function(t){{if(t&Zt)return"cancel";if(t&Pt)return"end";if(t&zt)return"move";if(t&Ct)return"start"}return""}(i):""),e)}i<Pt&&t(!0),t(),Pt<=i&&t(!0)},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Mt)))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!g(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(At|Zt|32)&&(this.state=Mt),this.state=this.process(e),this.state&(Ct|zt|Pt|Zt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},p(Bt,It,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(Ct|zt),o=this.attrTest(t);return i&&(n&L||!o)?e|Zt:i||o?n&R?e|Pt:e&Ct?e|zt:Ct:32}}),p(Ot,Bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:F},getTouchAction:function(){var t=this.options.direction,e=[];return t&X&&e.push(St),t&Y&&e.push(xt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,s=t.deltaX,r=t.deltaY;return o&e.direction||(i=e.direction&X?(o=0===s?q:s<0?_:k,n=s!=this.pX,Math.abs(t.deltaX)):(o=0===r?q:r<0?V:W,n=r!=this.pY,Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return Bt.prototype.attrTest.call(this,t)&&(this.state&Ct||!(this.state&Ct)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Nt(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),p($t,Bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Et]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ct)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),p(Rt,It,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(R|L)&&!o)this.reset();else if(t.eventType&$)this.reset(),this._timer=h(function(){this.state=At,this.tryEmit()},e.time,this);else if(t.eventType&R)return At;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===At&&(t&&t.eventType&R?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}}),p(Lt,Bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Et]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ct)}}),p(qt,Bt,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:X|Y,pointers:1},getTouchAction:function(){return Ot.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(X|Y)?e=t.velocity:n&X?e=t.velocityX:n&Y&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&v(e)>this.options.velocity&&t.eventType&R},emit:function(t){var e=Nt(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(_t,It,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[wt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&$&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=R)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||tt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&s?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=At,this.tryEmit()},e.interval,this),Ct):At}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==At&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),kt.VERSION="2.0.4",kt.defaults={domEvents:!1,touchAction:bt,enable:!0,inputTarget:null,inputClass:null,preset:[[Lt,{enable:!1}],[$t,{enable:!1},["rotate"]],[qt,{direction:X}],[Ot,{direction:X},["swipe"]],[_t],[_t,{event:"doubletap",taps:2},["tap"]],[Rt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Vt(t,e){var n;e=e||{},this.options=l(e,kt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=new((n=this).options.inputClass||(I?ct:N?vt:Z?mt:st))(n,j),this.touchAction=new Tt(this,this.options.touchAction),Wt(this,!0),u(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Wt(t,n){var i=t.element;u(t.options.cssProps,function(t,e){i.style[z(i.style,e)]=n?t:""})}Vt.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&At)&&(o=e.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(Ct|zt|Pt)&&(o=e.curRecognizer=n),s++}},get:function(t){if(t instanceof It)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(T(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return u(S(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return u(S(t),function(t){e?n[t].splice(T(n[t],e),1):delete n[t]}),this},emit:function(t,e){var n,i,o;this.options.domEvents&&(n=t,i=e,(o=a.createEvent("Event")).initEvent(n,!0,!0),(o.gesture=i).target.dispatchEvent(o));var s=this.handlers[t]&&this.handlers[t].slice();if(s&&s.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<s.length;)s[r](e),r++}},destroy:function(){this.element&&Wt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(kt,{INPUT_START:$,INPUT_MOVE:2,INPUT_END:R,INPUT_CANCEL:L,STATE_POSSIBLE:Mt,STATE_BEGAN:Ct,STATE_CHANGED:zt,STATE_ENDED:Pt,STATE_RECOGNIZED:At,STATE_CANCELLED:Zt,STATE_FAILED:32,DIRECTION_NONE:q,DIRECTION_LEFT:_,DIRECTION_RIGHT:k,DIRECTION_UP:V,DIRECTION_DOWN:W,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:Y,DIRECTION_ALL:F,Manager:Vt,Input:U,TouchAction:Tt,TouchInput:vt,MouseInput:st,PointerEventInput:ct,TouchMouseInput:mt,SingleTouchInput:pt,Recognizer:It,AttrRecognizer:Bt,Tap:_t,Pan:Ot,Swipe:qt,Pinch:$t,Rotate:Lt,Press:Rt,on:b,off:w,each:u,merge:l,extend:c,inherit:p,bindFn:d,prefixed:z}),typeof define==i&&define.amd?define(function(){return kt}):"undefined"!=typeof module&&module.exports?module.exports=kt:t.Hammer=kt}(window,document),$(function(){function t(){return self.innerHeight?self.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body?document.body.clientWidth:void 0}var e,a=document.querySelector("#Map");e={haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(t){var e=t.instance,n=1,i=0,o=0;this.hammer=Hammer(t.svgElement,{inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput}),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("doubletap",function(t){e.zoomIn()}),this.hammer.on("panstart panmove",function(t){"panstart"===t.type&&(o=i=0),e.panBy({x:t.deltaX-i,y:t.deltaY-o}),i=t.deltaX,o=t.deltaY}),this.hammer.on("pinchstart pinchmove",function(t){"pinchstart"===t.type&&(n=e.getZoom(),e.zoom(n*t.scale)),e.zoom(n*t.scale)}),t.svgElement.addEventListener("touchmove",function(t){t.preventDefault()})},destroy:function(){this.hammer.destroy()}};$(window).width(),$(window).height();var i=function(t,e){var n=a.getBBox(),i=$(window).width(),o=$(window).height(),s={xMin:-(n.width-(i+280)),xMax:0,yMin:-(n.height-o),yMax:0},r=!1;s.xMax<t&&(t=s.xMax,r=!0),t<s.xMin&&(t=s.xMin,r=!0),e<s.yMin&&(e=s.yMin,r=!0),s.yMax<e&&(e=s.yMax,r=!0),r&&h.pan({x:t,y:e})},h=svgPanZoom(a,{panEnabled:!0,zoomEnabled:!0,minZoom:1,maxZoom:12,contain:!0,fit:1,center:1,refreshRate:2,dblClickZoomEnabled:!1,customEventsHandler:e,onZoom:function(){var t=h.getPan();i(t.x,t.y)},onPan:function(t,e){var n=h.getPan();i(n.x,n.y)}});function n(){$(".leftSidebar").addClass("mobile-nav"),0===$(".wrapper").children("button.show-nav").length&&$(".wrapper").prepend('<button class="show-nav">Menu</button>'),0===$(".leftSidebar").children("button.hide-nav").length&&$(".leftSidebar").prepend('<button class="hide-nav">Close</button>')}document.getElementById("zoom-in").addEventListener("click",function(t){t.preventDefault(),h.zoomIn()}),document.getElementById("zoom-out").addEventListener("click",function(t){t.preventDefault(),h.zoomOut()}),document.getElementById("reset").addEventListener("click",function(t){t.preventDefault(),h.resetZoom()}),$('g[id^="m-"]').hide(),$('g[id^="c-"]').on("mouseenter",function(){var t=this.id;$("#"+t+' + g[id^="m-"]').fadeIn("fast")}),$('g[id^="c-"]').on("mouseleave",function(){$('g[id^="m-"]').fadeOut("fast")}),$('rect[id^="p-"]').on("click tap touchstart",function(){$(".accommodation").removeClass("fadeOut"),$(".accommodation").addClass("fadeIn");var t=this.id;$(".accommodation > div."+t).removeClass("fadeOut"),$(".accommodation > div."+t).addClass("fadeIn"),$("body").css({height:"100vh","overflow-y":"hidden"})}),$(".modals").bind("DOMSubtreeModified",function(){$(".fancybox").fancybox(),$(".close").on("click",function(){$(".modal").removeClass("fadeIn"),$(".modal").addClass("fadeOut"),$(".modals").removeClass("fadeIn"),$(".modals").addClass("fadeOut"),$("iframe").attr("src"," "),$("iframe").remove(),$("body").css({height:"auto","overflow-y":"visible"}),$(".modals").html('<p class="close" title="Close"></p>')})}),$(".close").on("click",function(){$(".modal, .accommodation > div").removeClass("fadeIn"),$(".modal, .accommodation > div").addClass("fadeOut"),$(".modals, .accommodation").removeClass("fadeIn"),$(".modals, .accommodation").addClass("fadeOut"),$("iframe").attr("src"," "),$("iframe").remove(),$("body").css({height:"auto","overflow-y":"visible"}),$(".modals").html('<p class="close" title="Close"></p>')}),$(".fade ul").hide(),$(".fade h2").append('<span class="fa fa-chevron-down"></span>'),$(".fade h2").on("click",function(){$(this).parent().find("h2 span").toggleClass("fa-chevron-down").toggleClass("fa-chevron-up"),$(this).parent().find("ul").slideToggle()}),t()<=960&&(n(),$("button.show-nav").on("click",function(){$(".leftSidebar").addClass("expanded"),$("body").css({height:"100vh","overflow-y":"hidden"})}),$("button.hide-nav").on("click",function(){$(".leftSidebar").removeClass("expanded"),$("body").css({height:"100vh","overflow-y":"hidden"})})),$(window).resize(function(){t()<=960?(n(),$("button.show-nav").on("click",function(){$(".leftSidebar").addClass("expanded"),$("body").css({height:"100vh","overflow-y":"hidden"})}),$("button.hide-nav").on("click",function(){$(".leftSidebar").removeClass("expanded"),$("body").css({height:"100vh","overflow-y":"hidden"})})):($(".leftSidebar").removeClass("mobile-nav"),$(".leftSidebar").removeClass("expanded"),$("button.show-nav").remove(),$("button.hide-nav").remove())}),!0===(!!!document.documentMode&&!!window.StyleMedia)&&$("svg").css({height:"60vw"}),$(".fancybox").fancybox()}),function s(r,a,h){function u(n,t){if(!a[n]){if(!r[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[n]={exports:{}};r[n][0].call(o.exports,function(t){var e=r[n][1][t];return u(e||t)},o,o.exports,s,r,a,h)}return a[n].exports}for(var c="function"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,e,n){var i,o=t("./svg-pan-zoom.js");i=window,document,"function"==typeof define&&define.amd?define("svg-pan-zoom",function(){return o}):void 0!==e&&e.exports&&(e.exports=o,i.svgPanZoom=o)},{"./svg-pan-zoom.js":4}],2:[function(t,e,n){var s=t("./svg-utilities");e.exports={enable:function(t){var e=t.svg.querySelector("defs");if(e||(e=document.createElementNS(s.svgNS,"defs"),t.svg.appendChild(e)),!e.querySelector("style#svg-pan-zoom-controls-styles")){var n=document.createElementNS(s.svgNS,"style");n.setAttribute("id","svg-pan-zoom-controls-styles"),n.setAttribute("type","text/css"),n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",e.appendChild(n)}var i=document.createElementNS(s.svgNS,"g");i.setAttribute("id","svg-pan-zoom-controls"),i.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),i.setAttribute("class","svg-pan-zoom-control"),i.appendChild(this._createZoomIn(t)),i.appendChild(this._createZoomReset(t)),i.appendChild(this._createZoomOut(t)),t.svg.appendChild(i),t.controlIcons=i},_createZoomIn:function(t){var e=document.createElementNS(s.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in"),e.setAttribute("transform","translate(30.5 5) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomIn()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomIn()},!1);var n=document.createElementNS(s.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(s.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},_createZoomReset:function(t){var e=document.createElementNS(s.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),e.setAttribute("transform","translate(5 35) scale(0.4)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().reset()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().reset()},!1);var n=document.createElementNS(s.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(s.svgNS,"path");i.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i);var o=document.createElementNS(s.svgNS,"path");return o.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),o.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(o),e},_createZoomOut:function(t){var e=document.createElementNS(s.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out"),e.setAttribute("transform","translate(30.5 70) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomOut()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomOut()},!1);var n=document.createElementNS(s.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(s.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}}},{"./svg-utilities":5}],3:[function(t,e,n){var i=t("./svg-utilities"),r=t("./utilities"),o=function(t,e){this.init(t,e)};o.prototype.init=function(t,e){this.viewport=t,this.options=e,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=r.proxy(this.updateCTM,this),this.requestAnimationFrame=r.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},o.prototype.cacheViewBox=function(){var t=this.options.svg.getAttribute("viewBox");if(t){var e=t.split(/[\s\,]/).filter(function(t){return t}).map(parseFloat);this.viewBox.x=e[0],this.viewBox.y=e[1],this.viewBox.width=e[2],this.viewBox.height=e[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},o.prototype.simpleViewBoxCache=function(){var t=this.viewport.getBBox();this.viewBox.x=t.x,this.viewBox.y=t.y,this.viewBox.width=t.width,this.viewBox.height=t.height},o.prototype.getViewBox=function(){return r.extend({},this.viewBox)},o.prototype.processCTM=function(){var t,e=this.getCTM();(this.options.fit||this.options.contain)&&(t=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),e.a=t,e.d=t,e.e=-this.viewBox.x*t,e.f=-this.viewBox.y*t);if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*e.a),i=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*e.a);e.e=n,e.f=i}return this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,e},o.prototype.getOriginalState=function(){return r.extend({},this.originalState)},o.prototype.getState=function(){return r.extend({},this.activeState)},o.prototype.getZoom=function(){return this.activeState.zoom},o.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},o.prototype.computeRelativeZoom=function(t){return t/this.originalState.zoom},o.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},o.prototype.getCTM=function(){var t=this.options.svg.createSVGMatrix();return t.a=this.activeState.zoom,t.b=0,t.c=0,t.d=this.activeState.zoom,t.e=this.activeState.x,t.f=this.activeState.y,t},o.prototype.setCTM=function(t){var e=this.isZoomDifferent(t),n=this.isPanDifferent(t);if(e||n){if(e&&!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(t.a))&&(t.a=t.d=this.activeState.zoom,e=!1),n){var i=this.options.beforePan(this.getPan(),{x:t.e,y:t.f}),o=!1,s=!1;!1===i?(t.e=this.getPan().x,t.f=this.getPan().y,o=s=!0):r.isObject(i)&&(!1===i.x?(t.e=this.getPan().x,o=!0):r.isNumber(i.x)&&(t.e=i.x),!1===i.y?(t.f=this.getPan().y,s=!0):r.isNumber(i.y)&&(t.f=i.y)),o&&s&&(n=!1)}(e||n)&&(this.updateCache(t),this.updateCTMOnNextFrame(),e&&this.options.onZoom(this.getRelativeZoom()),n&&this.options.onPan(this.getPan()))}},o.prototype.isZoomDifferent=function(t){return this.activeState.zoom!==t.a},o.prototype.isPanDifferent=function(t){return this.activeState.x!==t.e||this.activeState.y!==t.f},o.prototype.updateCache=function(t){this.activeState.zoom=t.a,this.activeState.x=t.e,this.activeState.y=t.f},o.prototype.pendingUpdate=!1,o.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},o.prototype.updateCTM=function(){i.setCTM(this.viewport,this.getCTM(),this.defs),this.pendingUpdate=!1},e.exports=function(t,e){return new o(t,e)}},{"./svg-utilities":5,"./utilities":7}],4:[function(t,e,n){var i=t("./uniwheel"),s=t("./control-icons"),r=t("./utilities"),a=t("./svg-utilities"),h=t("./shadow-viewport"),o=function(t,e){this.init(t,e)},u={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null};o.prototype.init=function(t,e){var n=this;this.svg=t,this.defs=t.querySelector("defs"),a.setupSvgAttributes(this.svg),this.options=r.extend(r.extend({},u),e),this.state="none";var i=a.getBoundingClientRectNormalized(t);this.width=i.width,this.height=i.height,this.viewport=h(a.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(t,e){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(t,e)},onZoom:function(t){if(n.viewport&&n.options.onZoom)return n.options.onZoom(t)},beforePan:function(t,e){if(n.viewport&&n.options.beforePan)return n.options.beforePan(t,e)},onPan:function(t){if(n.viewport&&n.options.onPan)return n.options.onPan(t)}});var o=this.getPublicInstance();o.setBeforeZoom(this.options.beforeZoom),o.setOnZoom(this.options.onZoom),o.setBeforePan(this.options.beforePan),o.setOnPan(this.options.onPan),this.options.controlIconsEnabled&&s.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},o.prototype.setupHandlers=function(){var n=this,i=null;if(this.eventListeners={mousedown:function(t){var e=n.handleMouseDown(t,i);return i=t,e},touchstart:function(t){var e=n.handleMouseDown(t,i);return i=t,e},mouseup:function(t){return n.handleMouseUp(t)},touchend:function(t){return n.handleMouseUp(t)},mousemove:function(t){return n.handleMouseMove(t)},touchmove:function(t){return n.handleMouseMove(t)},mouseleave:function(t){return n.handleMouseUp(t)},touchleave:function(t){return n.handleMouseUp(t)},touchcancel:function(t){return n.handleMouseUp(t)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var t=this.options.customEventsHandler.haltEventListeners;if(t&&t.length)for(var e=t.length-1;0<=e;e--)this.eventListeners.hasOwnProperty(t[e])&&delete this.eventListeners[t[e]]}for(var o in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(o,this.eventListeners[o],!1);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},o.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var e=this;this.wheelListener=function(t){return e.handleMouseWheel(t)},i.on(this.options.eventsListenerElement||this.svg,this.wheelListener,!1),this.options.mouseWheelZoomEnabled=!0}},o.prototype.disableMouseWheelZoom=function(){this.options.mouseWheelZoomEnabled&&(i.off(this.options.eventsListenerElement||this.svg,this.wheelListener,!1),this.options.mouseWheelZoomEnabled=!1)},o.prototype.handleMouseWheel=function(t){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1);var e=t.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,i=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in t&&0===t.deltaMode&&t.wheelDelta&&(e=0===t.deltaY?0:Math.abs(t.wheelDelta)/t.deltaY),e=-.3<e&&e<.3?e:(0<e?1:-1)*Math.log(Math.abs(e)+10)/i;var o=this.svg.getScreenCTM().inverse(),s=a.getEventPoint(t,this.svg).matrixTransform(o),r=Math.pow(1+this.options.zoomScaleSensitivity,-1*e);this.zoomAtPoint(r,s)}},o.prototype.zoomAtPoint=function(t,e,n){var i=this.viewport.getOriginalState();n?(t=Math.max(this.options.minZoom*i.zoom,Math.min(this.options.maxZoom*i.zoom,t)),t/=this.getZoom()):this.getZoom()*t<this.options.minZoom*i.zoom?t=this.options.minZoom*i.zoom/this.getZoom():this.getZoom()*t>this.options.maxZoom*i.zoom&&(t=this.options.maxZoom*i.zoom/this.getZoom());var o=this.viewport.getCTM(),s=e.matrixTransform(o.inverse()),r=this.svg.createSVGMatrix().translate(s.x,s.y).scale(t).translate(-s.x,-s.y),a=o.multiply(r);a.a!==o.a&&this.viewport.setCTM(a)},o.prototype.zoom=function(t,e){this.zoomAtPoint(t,a.getSvgCenterPoint(this.svg,this.width,this.height),e)},o.prototype.publicZoom=function(t,e){e&&(t=this.computeFromRelativeZoom(t)),this.zoom(t,e)},o.prototype.publicZoomAtPoint=function(t,e,n){if(n&&(t=this.computeFromRelativeZoom(t)),"SVGPoint"!==r.getType(e)){if(!("x"in e&&"y"in e))throw new Error("Given point is invalid");e=a.createSVGPoint(this.svg,e.x,e.y)}this.zoomAtPoint(t,e,n)},o.prototype.getZoom=function(){return this.viewport.getZoom()},o.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},o.prototype.computeFromRelativeZoom=function(t){return t*this.viewport.getOriginalState().zoom},o.prototype.resetZoom=function(){var t=this.viewport.getOriginalState();this.zoom(t.zoom,!0)},o.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},o.prototype.reset=function(){this.resetZoom(),this.resetPan()},o.prototype.handleDblClick=function(t){var e;if((this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.options.controlIconsEnabled)&&-1<(t.target.getAttribute("class")||"").indexOf("svg-pan-zoom-control"))return!1;e=t.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var n=a.getEventPoint(t,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(e,n)},o.prototype.handleMouseDown=function(t,e){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),r.mouseAndTouchNormalize(t,this.svg),this.options.dblClickZoomEnabled&&r.isDblClick(t,e)?this.handleDblClick(t):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=a.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()))},o.prototype.handleMouseMove=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var e=a.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(e.x-this.stateOrigin.x,e.y-this.stateOrigin.y);this.viewport.setCTM(n)}},o.prototype.handleMouseUp=function(t){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&(this.state="none")},o.prototype.fit=function(){var t=this.viewport.getViewBox(),e=Math.min(this.width/t.width,this.height/t.height);this.zoom(e,!0)},o.prototype.contain=function(){var t=this.viewport.getViewBox(),e=Math.max(this.width/t.width,this.height/t.height);this.zoom(e,!0)},o.prototype.center=function(){var t=this.viewport.getViewBox(),e=.5*(this.width-(t.width+2*t.x)*this.getZoom()),n=.5*(this.height-(t.height+2*t.y)*this.getZoom());this.getPublicInstance().pan({x:e,y:n})},o.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},o.prototype.pan=function(t){var e=this.viewport.getCTM();e.e=t.x,e.f=t.y,this.viewport.setCTM(e)},o.prototype.panBy=function(t){var e=this.viewport.getCTM();e.e+=t.x,e.f+=t.y,this.viewport.setCTM(e)},o.prototype.getPan=function(){var t=this.viewport.getState();return{x:t.x,y:t.y}},o.prototype.resize=function(){var t=a.getBoundingClientRectNormalized(this.svg);this.width=t.width,this.height=t.height;var e=this.viewport;e.options.width=this.width,e.options.height=this.height,e.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},o.prototype.destroy=function(){var e=this;for(var t in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,(this.onPan=null)!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(t,this.eventListeners[t],!1);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),c=c.filter(function(t){return t.svg!==e.svg}),delete this.options,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},o.prototype.getPublicInstance=function(){var n=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return n.options.panEnabled=!0,n.pi},disablePan:function(){return n.options.panEnabled=!1,n.pi},isPanEnabled:function(){return!!n.options.panEnabled},pan:function(t){return n.pan(t),n.pi},panBy:function(t){return n.panBy(t),n.pi},getPan:function(){return n.getPan()},setBeforePan:function(t){return n.options.beforePan=null===t?null:r.proxy(t,n.publicInstance),n.pi},setOnPan:function(t){return n.options.onPan=null===t?null:r.proxy(t,n.publicInstance),n.pi},enableZoom:function(){return n.options.zoomEnabled=!0,n.pi},disableZoom:function(){return n.options.zoomEnabled=!1,n.pi},isZoomEnabled:function(){return!!n.options.zoomEnabled},enableControlIcons:function(){return n.options.controlIconsEnabled||(n.options.controlIconsEnabled=!0,s.enable(n)),n.pi},disableControlIcons:function(){return n.options.controlIconsEnabled&&(n.options.controlIconsEnabled=!1,s.disable(n)),n.pi},isControlIconsEnabled:function(){return!!n.options.controlIconsEnabled},enableDblClickZoom:function(){return n.options.dblClickZoomEnabled=!0,n.pi},disableDblClickZoom:function(){return n.options.dblClickZoomEnabled=!1,n.pi},isDblClickZoomEnabled:function(){return!!n.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return n.enableMouseWheelZoom(),n.pi},disableMouseWheelZoom:function(){return n.disableMouseWheelZoom(),n.pi},isMouseWheelZoomEnabled:function(){return!!n.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(t){return n.options.zoomScaleSensitivity=t,n.pi},setMinZoom:function(t){return n.options.minZoom=t,n.pi},setMaxZoom:function(t){return n.options.maxZoom=t,n.pi},setBeforeZoom:function(t){return n.options.beforeZoom=null===t?null:r.proxy(t,n.publicInstance),n.pi},setOnZoom:function(t){return n.options.onZoom=null===t?null:r.proxy(t,n.publicInstance),n.pi},zoom:function(t){return n.publicZoom(t,!0),n.pi},zoomBy:function(t){return n.publicZoom(t,!1),n.pi},zoomAtPoint:function(t,e){return n.publicZoomAtPoint(t,e,!0),n.pi},zoomAtPointBy:function(t,e){return n.publicZoomAtPoint(t,e,!1),n.pi},zoomIn:function(){return this.zoomBy(1+n.options.zoomScaleSensitivity),n.pi},zoomOut:function(){return this.zoomBy(1/(1+n.options.zoomScaleSensitivity)),n.pi},getZoom:function(){return n.getRelativeZoom()},resetZoom:function(){return n.resetZoom(),n.pi},resetPan:function(){return n.resetPan(),n.pi},reset:function(){return n.reset(),n.pi},fit:function(){return n.fit(),n.pi},contain:function(){return n.contain(),n.pi},center:function(){return n.center(),n.pi},updateBBox:function(){return n.updateBBox(),n.pi},resize:function(){return n.resize(),n.pi},getSizes:function(){return{width:n.width,height:n.height,realZoom:n.getZoom(),viewBox:n.viewport.getViewBox()}},destroy:function(){return n.destroy(),n.pi}}),this.publicInstance};var c=[];e.exports=function(t,e){var n=r.getSvg(t);if(null===n)return null;for(var i=c.length-1;0<=i;i--)if(c[i].svg===n)return c[i].instance.getPublicInstance();return c.push({svg:n,instance:new o(n,e)}),c[c.length-1].instance.getPublicInstance()}},{"./control-icons":2,"./shadow-viewport":3,"./svg-utilities":5,"./uniwheel":6,"./utilities":7}],5:[function(t,e,n){var h=t("./utilities"),s="unknown";document.documentMode&&(s="ie"),e.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(t){if(t.clientWidth&&t.clientHeight)return{width:t.clientWidth,height:t.clientHeight};if(t.getBoundingClientRect())return t.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(t,e){var n=null;if(!(n=h.isElement(e)?e:t.querySelector(e))){var i=Array.prototype.slice.call(t.childNodes||t.children).filter(function(t){return"defs"!==t.nodeName&&"#text"!==t.nodeName});1===i.length&&"g"===i[0].nodeName&&null===i[0].getAttribute("transform")&&(n=i[0])}if(!n){var o="viewport-"+(new Date).toISOString().replace(/\D/g,"");(n=document.createElementNS(this.svgNS,"g")).setAttribute("id",o);var s=t.childNodes||t.children;if(s&&0<s.length)for(var r=s.length;0<r;r--)"defs"!==s[s.length-r].nodeName&&n.appendChild(s[s.length-r]);t.appendChild(n)}var a=[];return n.getAttribute("class")&&(a=n.getAttribute("class").split(" ")),~a.indexOf("svg-pan-zoom_viewport")||(a.push("svg-pan-zoom_viewport"),n.setAttribute("class",a.join(" "))),n},setupSvgAttributes:function(t){if(t.setAttribute("xmlns",this.svgNS),t.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),t.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==t.parentNode){var e=t.getAttribute("style")||"";-1===e.toLowerCase().indexOf("overflow")&&t.setAttribute("style","overflow: hidden; "+e)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:h.throttle(function(){for(var t=document.querySelectorAll("defs"),e=t.length,n=0;n<e;n++){var i=t[n];i.parentNode.insertBefore(i,i)}},this.internetExplorerRedisplayInterval),setCTM:function(t,e,n){var i=this,o="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttributeNS(null,"transform",o),"transform"in t.style?t.style.transform=o:"-ms-transform"in t.style?t.style["-ms-transform"]=o:"-webkit-transform"in t.style&&(t.style["-webkit-transform"]=o),"ie"===s&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout(function(){i.refreshDefsGlobal()},i.internetExplorerRedisplayInterval))},getEventPoint:function(t,e){var n=e.createSVGPoint();return h.mouseAndTouchNormalize(t,e),n.x=t.clientX,n.y=t.clientY,n},getSvgCenterPoint:function(t,e,n){return this.createSVGPoint(t,e/2,n/2)},createSVGPoint:function(t,e,n){var i=t.createSVGPoint();return i.x=e,i.y=n,i}}},{"./utilities":7}],6:[function(t,e,n){e.exports=function(){var u,o,c,l="",p=[];function i(t,e,n,i){var o,s,r,a,h;o="wheel"===c?n:(s=t,r=n,a=i,h=function(t){!t&&(t=window.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==c?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail,r(e)},p.push({element:s,fn:h,capture:a}),h),t[u](l+e,o,i||!1)}function s(t,e,n,i){cb="wheel"===c?n:function(t,e){for(var n=0;n<p.length;n++)if(p[n].element===t&&p[n].capture===e)return p[n].fn;return function(){}}(t,i),t[o](l+e,cb,i||!1),function(t,e){for(var n=0;n<p.length;n++)if(p[n].element===t&&p[n].capture===e)return p.splice(n,1)}(t,i)}return window.addEventListener?(u="addEventListener",o="removeEventListener"):(u="attachEvent",o="detachEvent",l="on"),c="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:function(t,e,n){i(t,c,e,n),"DOMMouseScroll"==c&&i(t,"MozMousePixelScroll",e,n)},off:function(t,e,n){s(t,c,e,n),"DOMMouseScroll"==c&&s(t,"MozMousePixelScroll",e,n)}}}()},{}],7:[function(t,e,n){function i(e){return function(t){window.setTimeout(t,e)}}e.exports={extend:function(t,e){for(var n in t=t||{},e)this.isObject(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,n;if(this.isElement(t))e=t;else{if(!("string"==typeof t||t instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(!(e=document.querySelector(t)))throw new Error("Provided selector did not find any elements. Selector: "+t)}if("svg"===e.tagName.toLowerCase())n=e;else if("object"===e.tagName.toLowerCase())n=e.contentDocument.documentElement;else{if("embed"!==e.tagName.toLowerCase())throw"img"===e.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=e.getSVGDocument().documentElement}return n},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(void 0===t.clientX||null===t.clientX)if(t.clientX=0,void(t.clientY=0)!==t.changedTouches&&t.changedTouches.length){if(void 0!==t.changedTouches[0].clientX)t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY;else if(void 0!==t.changedTouches[0].pageX){var n=e.getBoundingClientRect();t.clientX=t.changedTouches[0].pageX-n.left,t.clientY=t.changedTouches[0].pageY-n.top}}else void 0!==t.originalEvent&&void 0!==t.originalEvent.clientX&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,e){if(2===t.detail)return!0;if(null==e)return!1;var n=t.timeStamp-e.timeStamp,i=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return n<250&&i<10},now:Date.now||function(){return(new Date).getTime()},throttle:function(n,i,o){var s,r,a,h=this,u=null,c=0;o||(o={});var l=function(){c=!1===o.leading?0:h.now(),u=null,a=n.apply(s,r),u||(s=r=null)};return function(){var t=h.now();c||!1!==o.leading||(c=t);var e=i-(t-c);return s=this,r=arguments,e<=0||i<e?(clearTimeout(u),u=null,c=t,a=n.apply(s,r),u||(s=r=null)):u||!1===o.trailing||(u=setTimeout(l,e)),a}},createRequestAnimationFrame:function(t){var e=null;return"auto"!==t&&t<60&&1<t&&(e=Math.floor(1e3/t)),null===e?window.requestAnimationFrame||i(33):i(e)}}},{}]},{},[1]);